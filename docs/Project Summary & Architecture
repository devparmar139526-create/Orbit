# ğŸŒ orbit Project - Complete Overview

## ğŸ“‹ Project Summary

**orbit** is a privacy-focused, locally-running AI assistant inspired by Jarvis from Iron Man. It combines voice interaction, local AI reasoning (via Ollama), internet knowledge APIs, and smart automation capabilities for both desktop and IoT control.

### Core Philosophy
- **Privacy First**: All AI processing happens locally using Ollama
- **Modular Design**: Easy to extend with new features and actions
- **No Vendor Lock-in**: No required cloud services or paid APIs
- **Cross-Platform**: Works on Windows, macOS, and Linux

---

## ğŸ—ï¸ Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USER INTERFACE                       â”‚
â”‚              (Voice Input / Text Input)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 SPEECH-TO-TEXT (STT)                    â”‚
â”‚           speech_recognition + Google API               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              INTENT CLASSIFICATION                      â”‚
â”‚              (source_selector.py)                       â”‚
â”‚                                                          â”‚
â”‚  Determines: Weather? Wiki? Desktop? Schedule? LLM?     â”‚
â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚        â”‚        â”‚        â”‚        â”‚
   â–¼        â–¼        â–¼        â–¼        â–¼
â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Wiki â”‚ â”‚Weathâ”‚ â”‚Desktâ”‚ â”‚Schedâ”‚ â”‚   LLM    â”‚
â”‚ API â”‚ â”‚ API â”‚ â”‚ Ctrlâ”‚ â”‚uler â”‚ â”‚ (Ollama) â”‚
â””â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
   â”‚       â”‚       â”‚       â”‚         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               RESPONSE GENERATION                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                TEXT-TO-SPEECH (TTS)                     â”‚
â”‚                   pyttsx3                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   USER OUTPUT                            â”‚
â”‚              (Voice / Text Display)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ Module Breakdown

### 1. **Main Entry Point** (`bin/orbit.py`)
- Initializes all components
- Manages conversation loop
- Handles text/voice modes
- Coordinates between modules

### 2. **Configuration** (`Orbit_core/config/`)
- `settings.py`: Central configuration (API URLs, model names, preferences)
- Manages environment variables
- Stores system prompts and personality

### 3. **Memory System** (`Orbit_core/memory/`)
- `sqlite_store.py`: SQLite database for conversation history
- Stores user/assistant messages
- Manages scheduled tasks
- Provides conversation context to LLM

### 4. **LLM Integration** (`Orbit_core/llm/`)
- `ollama_client.py`: Direct connection to Ollama server
- `router.py`: Routes requests to appropriate LLM backend
- Handles fallback responses when LLM unavailable
- Manages chat context and system prompts

### 5. **Intent Recognition** (`Orbit_core/intent/`)
- `source_selector.py`: Classifies user intent
- Routes queries to appropriate handlers:
  - Factual queries â†’ Wikipedia
  - Weather queries â†’ Weather API
  - Commands â†’ Desktop/IoT control
  - Conversations â†’ LLM
  - Time-based â†’ Scheduler

### 6. **Action Handlers** (`Orbit_core/actions/`)

#### a. **Wikipedia** (`wikipedia.py`)
- Searches Wikipedia for factual information
- Returns summarized articles
- Handles "who is", "what is" queries

#### b. **Weather** (`weather.py`)
- Free Open-Meteo API integration
- Geocoding for location lookup
- Current weather conditions
- Temperature, humidity, wind speed

#### c. **Desktop Control** (`desktop.py`)
- Cross-platform app launching
- OS-specific command mapping
- Supports Chrome, Firefox, VS Code, etc.
- Safe by design (no close operations)

#### d. **Scheduling** (`schedule_action.py`)
- Parses time from natural language
- Handles relative time ("in 30 minutes")
- Handles absolute time ("at 5 PM")
- Stores tasks in database

#### e. **IoT Control** (`iot.py`)
- HTTP-based device control
- MQTT support (optional)
- Configurable device mappings
- Smart home integration ready

### 7. **Speech-to-Text** (`Orbit_core/stt/`)
- `deep.py`: Voice recognition using `speech_recognition`
- Google Speech API (online)
- Sphinx fallback (offline)
- Ambient noise calibration

### 8. **Text-to-Speech** (`Orbit_core/tts/`)
- `pyttsx_tts.py`: Local TTS engine (pyttsx3)
- `dispatcher.py`: Routes text to voice output
- Configurable voice, rate, volume
- Cross-platform support

### 9. **Event Bus** (`Orbit_core/bus/`)
- `event_bus.py`: Pub-sub messaging system
- Decouples modules
- Extensible for future features
- Event-driven architecture

---

## ğŸ”„ Data Flow Example

### Example 1: Weather Query
```
User: "What's the weather in London?"
   â”‚
   â–¼
STT converts to text
   â”‚
   â–¼
Intent Classifier: Detects "weather" keyword â†’ Weather Action
   â”‚
   â–¼
Weather Action:
  1. Geocodes "London" â†’ lat/lon
  2. Calls Open-Meteo API
  3. Formats response
   â”‚
   â–¼
TTS speaks: "Weather in London, UK: Currently clear sky with..."
```

### Example 2: Knowledge Query
```
User: "Who is Einstein?"
   â”‚
   â–¼
Intent Classifier: Detects "who is" â†’ Wikipedia Action
   â”‚
   â–¼
Wikipedia Action:
  1. Searches Wikipedia
  2. Retrieves summary
  3. Returns first 3 sentences
   â”‚
   â–¼
TTS speaks: "According to Wikipedia: Albert Einstein was..."
```

### Example 3: Conversation
```
User: "How do I learn Python?"
   â”‚
   â–¼
Intent Classifier: No specific trigger â†’ LLM
   â”‚
   â–¼
LLM Router:
  1. Retrieves conversation context from Memory
  2. Sends to Ollama with system prompt
  3. Gemma 3:4B generates response
   â”‚
   â–¼
Memory stores exchange
   â”‚
   â–¼
TTS speaks response
```

---

## ğŸ”§ Technology Stack

### Core Technologies
- **Python 3.8+**: Main language
- **Ollama**: Local LLM server (Gemma 3:4B)
- **SQLite**: Conversation memory
- **speech_recognition**: Voice input
- **pyttsx3**: Voice output

### APIs (All Free)
- **Wikipedia API**: Factual knowledge
- **Open-Meteo**: Weather data
- **Google Speech API**: Speech recognition (requires internet)

### Optional Dependencies
- **paho-mqtt**: IoT device control
- **pyaudio**: Microphone access

---

## ğŸ¯ Key Features

### 1. **Privacy-Focused**
- All AI processing local via Ollama
- No data sent to cloud (except Wikipedia/Weather APIs)
- Full control over conversation data

### 2. **Extensible Architecture**
- Add new actions by creating new files in `actions/`
- Plug into event bus for inter-module communication
- Easy to add new APIs or services

### 3. **Context-Aware**
- Remembers conversation history
- Uses context for follow-up questions
- Example: "Who is Elon Musk?" â†’ "What's his net worth?"

### 4. **Multi-Modal**
- Text input/output (keyboard)
- Voice input/output (microphone/speakers)
- Can switch modes anytime

### 5. **Cross-Platform**
- Windows, macOS, Linux support
- OS-specific commands handled automatically
- Consistent experience across platforms

---

## ğŸ“Š File Structure

```
orbit/
â”‚
â”œâ”€â”€ bin/
â”‚   â””â”€â”€ orbit.py                    # Main entry point (200 lines)
â”‚
â”œâ”€â”€ Orbit_core/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚
â”‚   â”œâ”€â”€ actions/                    # All action handlers
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ desktop.py             # Desktop control (100 lines)
â”‚   â”‚   â”œâ”€â”€ iot.py                 # IoT control (150 lines)
â”‚   â”‚   â”œâ”€â”€ schedule_action.py     # Scheduling (100 lines)
â”‚   â”‚   â”œâ”€â”€ weather.py             # Weather API (120 lines)
â”‚   â”‚   â””â”€â”€ wikipedia.py           # Wikipedia API (80 lines)
â”‚   â”‚
â”‚   â”œâ”€â”€ bus/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ event_bus.py           # Pub-sub system (50 lines)
â”‚   â”‚
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ settings.py            # Configuration (80 lines)
â”‚   â”‚
â”‚   â”œâ”€â”€ intent/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ source_selector.py     # Intent classification (150 lines)
â”‚   â”‚
â”‚   â”œâ”€â”€ llm/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ ollama_client.py       # Ollama integration (120 lines)
â”‚   â”‚   â””â”€â”€ router.py              # LLM routing (80 lines)
â”‚   â”‚
â”‚   â”œâ”€â”€ memory/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ sqlite_store.py        # Database (120 lines)
â”‚   â”‚
â”‚   â”œâ”€â”€ stt/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ deep.py                # Speech recognition (80 lines)
â”‚   â”‚
â”‚   â””â”€â”€ tts/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ pyttsx_tts.py          # TTS engine (60 lines)
â”‚       â””â”€â”€ dispatcher.py          # TTS dispatcher (40 lines)
â”‚
â”œâ”€â”€ data/                           # Auto-created
â”‚   â””â”€â”€ orbit_memory.db            # SQLite database
â”‚
â”œâ”€â”€ requirements.txt                # Python dependencies
â”œâ”€â”€ setup.py                        # Installation script
â”œâ”€â”€ test_orbit.py                   # System tests
â”œâ”€â”€ quickstart.sh                   # Linux/Mac setup
â”œâ”€â”€ quickstart.bat                  # Windows setup
â”‚
â”œâ”€â”€ README.md                       # Main documentation
â”œâ”€â”€ INSTALL.md                      # Installation guide
â””â”€â”€ .env.example                    # Environment template

Total: ~1,500 lines of Python code
```

---

## ğŸš€ Deployment Options

### 1. **Personal Desktop Assistant**
- Run on laptop/desktop
- Always available when computer is on
- Voice-activated commands

### 2. **Raspberry Pi Server**
- Deploy on Pi for 24/7 availability
- Central home automation hub
- Low power consumption

### 3. **Home Server**
- Run on NAS or home server
- Access from multiple devices
- Can add web interface

### 4. **Docker Container** (Future)
- Portable deployment
- Easy updates
- Isolated environment

---

## ğŸ”® Future Enhancements

### Short Term
- [ ] Active background scheduler (run tasks at scheduled time)
- [ ] Email integration (read/send emails)
- [ ] Calendar sync (Google Calendar, Outlook)
- [ ] Spotify control

### Medium Term
- [ ] Web interface (browser-based control)
- [ ] Mobile app (iOS/Android companion)
- [ ] Computer vision (webcam face detection)
- [ ] Multi-user support

### Long Term
- [ ] Fine-tuned personality models
- [ ] Plugin system for community extensions
- [ ] Multi-modal AI (images + text + voice)
- [ ] Integration marketplace

---

## ğŸ“ˆ Performance Considerations

### Resource Usage
- **CPU**: Moderate during LLM inference (2-5 seconds per query)
- **RAM**: ~4GB for gemma2:2b, ~8GB for larger models
- **Storage**: ~3GB for model, ~100MB for code and dependencies
- **Network**: Only for Wikipedia/Weather APIs (minimal)

### Optimization Tips
1. Use smaller models (gemma2:2b) for faster responses
2. Reduce context window for memory-constrained systems
3. Disable voice features if not needed
4. Run Ollama on dedicated hardware for better performance

---

## ğŸ” Security Considerations

### Current Security
- âœ… Local AI processing (no cloud exposure)
- âœ… No authentication required (single-user)
- âœ… Desktop actions limited for safety
- âœ… SQLite database is local

### Recommendations for Production
- Add authentication if exposing over network
- Implement rate limiting
- Sandbox desktop commands
- Encrypt sensitive data in database
- Use HTTPS for IoT device control

---

## ğŸ“ Learning Resources

### For Customization
- [Ollama Documentation](https://github.com/ollama/ollama)
- [SpeechRecognition Docs](https://github.com/Uberi/speech_recognition)
- [pyttsx3 Documentation](https://pyttsx3.readthedocs.io/)
- [Open-Meteo API](https://open-meteo.com/en/docs)

### For Extension
- Add actions: Create new file in `actions/` following existing patterns
- Change LLM: Modify `ollama_client.py` or add new client
- Add APIs: Integrate into `source_selector.py`
- Customize personality: Edit system prompt in `settings.py`

---

**Ready to build your own AI assistant? Start with the quickstart scripts!** ğŸš€